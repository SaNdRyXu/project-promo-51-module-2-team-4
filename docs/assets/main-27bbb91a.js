/* empty css             */document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector("#background-choice"),t=document.querySelector("#custom-image-upload"),o=document.querySelector("#custom-image"),r=document.querySelector(".js-preview-cover");e&&t&&o&&e.addEventListener("change",function(){e.value==="custom"?t.classList.remove("hidden"):(t.classList.add("hidden"),o.value="",q())}),o&&r&&o.addEventListener("change",function(){const n=o.files[0];if(n&&n.type.startsWith("image/")){const d=new FileReader;d.onload=function(p){const v=p.target.result;r.style.backgroundImage=`url('${v}')`},d.readAsDataURL(n)}else alert("Por favor, selecciona una imagen válida.")})});const m=document.querySelector(".js-preview-cover");m.style.backgroundImage="url('/project-promo-51-module-2-team-4/images/fantasy.png')";const g=m.querySelector(".js-cover-title"),A=document.querySelectorAll('input[name="theme"]');function q(){const e=document.querySelector('input[name="theme"]:checked').value,t=document.querySelector("#background-choice").value;g.classList.remove("fantasy-title","simulation-title","action-title","horror-title"),e==="Fantasía"?(t!=="custom"&&(m.style.backgroundImage="url('/project-promo-51-module-2-team-4/images/fantasy.png')"),g.classList.add("fantasy-title")):e==="Simulación"?(t!=="custom"&&(m.style.backgroundImage="url('/project-promo-51-module-2-team-4/images/simulation_6.png')"),g.classList.add("simulation-title")):e==="Acción"?(t!=="custom"&&(m.style.backgroundImage="url('/project-promo-51-module-2-team-4/images/action.png')"),g.classList.add("action-title")):e==="Terror"&&(t!=="custom"&&(m.style.backgroundImage="url('/project-promo-51-module-2-team-4/images/horror_5.png')"),g.classList.add("horror-title"))}A.forEach(e=>{e.addEventListener("change",q)});const j=document.querySelector(".js-input-tittle"),N=document.querySelector(".js-cover-title");document.addEventListener("DOMContentLoaded",function(){j.addEventListener("input",function(){const e=j.value.trim();N.textContent=e||"Sin título"})});const l=document.querySelector(".js-cover-subtitle"),D=document.querySelectorAll('input[name="theme"]'),w=document.querySelector(".js-input-subtitle");function k(){const e=w.value.trim();if(l.textContent=e,l.classList.remove("fantasy-subtitle","action-subtitle","simulation-subtitle","horror-subtitle"),!e)return;const t=document.querySelector('input[name="theme"]:checked').value;t==="Fantasía"?l.classList.add("fantasy-subtitle"):t==="Simulación"?l.classList.add("simulation-subtitle"):t==="Acción"?l.classList.add("action-subtitle"):t==="Terror"&&l.classList.add("horror-subtitle")}w.addEventListener("input",k);D.forEach(e=>{e.addEventListener("change",k)});const O=document.querySelectorAll('input[name="platform"]');document.querySelector(".js-imgrightbutton");function I(){const e=document.querySelector('input[name="platform"]:checked').value,t=document.getElementById("previewTop"),o=document.getElementById("previewimagePlatform");t.className="preview-top",o.src="/project-promo-51-module-2-team-4/images/ps5.svg",o.alt="Imagen de PS5",e==="PS5"?(o.src="/project-promo-51-module-2-team-4/images/ps5.svg",o.alt="Imagen de PS5"):e==="PC"?(o.src="/project-promo-51-module-2-team-4/images/pc.svg",o.alt="Imagen de PC",t.className="preview-pc"):e==="Xbox"?(o.src="/project-promo-51-module-2-team-4/images/xbox.svg",o.alt="Imagen de Xbox",t.className="preview-xbox"):e==="Switch"&&(o.src="/project-promo-51-module-2-team-4/images/switch.svg",o.alt="Imagen de Nintendo Switch",t.className="preview-switch")}O.forEach(e=>{e.addEventListener("change",I)});I();const E=document.querySelector(".js-input-age"),i=document.querySelector(".js-box");function V(){const e=parseInt(E.value);i.innerHTML=e,i.classList.remove("preview-age-rojo","preview-age-naranja","preview-age-amarillo","preview-age"),isNaN(e)||e<3||e>18?(i.innerHTML="7",i.classList.add("preview-age")):e>=12&&e<18?i.classList.add("preview-age-naranja"):e===18?i.classList.add("preview-age-rojo"):i.classList.add("preview-age")}E.addEventListener("input",V);const u=document.querySelector(".js-company"),s=document.querySelector(".js-cover-company");function $(){u.value==="ubisoft"?(s.src="/project-promo-51-module-2-team-4/images/ubisoft.svg",s.alt="Ubisoft Entertainment S. A."):u.value==="nintendo"?(s.src="/project-promo-51-module-2-team-4/images/nintendo.svg",s.alt="Nintendo Company, Ltd."):u.value==="bethesda"?(s.src="/project-promo-51-module-2-team-4/images/bethesda.svg",s.alt="Bethesda Softworks LLC"):u.value==="activision"?(s.src="/project-promo-51-module-2-team-4/images/activision.svg",s.alt="Activision Publishing, Inc."):u.value==="sega"?(s.src="/project-promo-51-module-2-team-4/images/sega.svg",s.alt="Sega Corporation"):(s.src="/project-promo-51-module-2-team-4/images/ea.svg",s.alt="Electronic Arts Inc.")}u.addEventListener("change",$);const B=document.querySelector(".js-save-button"),M=document.querySelector(".js-prelink");function U(){var y,S,b;const e=document.querySelector("#title").value.trim()||"Sin título",t=document.querySelector("#subtitle").value.trim()||"Sin subtítulo",o=parseInt(document.querySelector("#age").value,10)||7,r=(y=document.querySelector('input[name="platform"]:checked'))==null?void 0:y.value,n=(S=document.querySelector("#company"))==null?void 0:S.value,d=document.querySelector("#background-choice").value||"preset",p=document.querySelector(".js-preview-cover").style.backgroundImage,v=((b=document.querySelector('input[name="theme"]:checked'))==null?void 0:b.value)||"Fantasía",c={field1:parseInt(d==="custom"?1:2),field2:e,field3:t,field4:v,field5:o,field6:r?`/project-promo-51-module-2-team-4/images/${r.toLowerCase()}.svg`:"",field7:n?`/project-promo-51-module-2-team-4/images/${n.toLowerCase()}.svg`:""};if(d==="custom"&&p&&p.startsWith('url("data:image')){const a=p.match(/^url\(["']?(.+?)["']?\)$/);c.photo=a?a[1]:""}else switch(v){case"Fantasía":c.photo="/project-promo-51-module-2-team-4/images/fantasy.png";break;case"Simulación":c.photo="/project-promo-51-module-2-team-4/images/simulation_6.png";break;case"Acción":c.photo="/project-promo-51-module-2-team-4/images/action.png";break;case"Terror":c.photo="/project-promo-51-module-2-team-4/images/horror_5.png";break;default:c.photo="/project-promo-51-module-2-team-4/images/fantasy.png"}console.log("Enviando datos:",c),localStorage.setItem("formData",JSON.stringify(c)),fetch("https://dev.adalab.es/api/info/data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then(a=>a.json()).then(a=>{if(a.success){console.log("Respuesta del servidor:",a),localStorage.setItem("apiData",JSON.stringify(a));const L=`result.html?id=${a.infoID}`,P=document.querySelector(".js-url-result");M.classList.remove("hidden"),P.innerHTML=`<a href="${L}" target="_blank">${L}</a>`}else console.error("Error en la respuesta del servidor:",a.error)}).catch(a=>{console.error("Error en la petición fetch:",a)})}B.addEventListener("click",function(e){e.preventDefault(),U()});const f=document.querySelector(".js-toggle-design"),h=document.querySelector(".js-toggle-fill"),C=document.querySelector(".background-choice"),T=document.querySelector(".fill_options");function x(e,t,o,r){const n=!t.classList.contains("hidden");t.classList.toggle("hidden"),e.textContent=n?"➕":"➖",r.classList.add("hidden"),o.textContent="➕"}f.addEventListener("click",()=>{x(f,C,h,T)});h.addEventListener("click",()=>{x(h,T,f,C)});
//# sourceMappingURL=main-27bbb91a.js.map
