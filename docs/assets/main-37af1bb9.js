/* empty css             */document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector("#background-choice"),t=document.querySelector("#custom-image-upload"),s=document.querySelector("#custom-image"),c=document.querySelector(".js-preview-cover");e&&t&&s&&e.addEventListener("change",function(){e.value==="custom"?t.classList.remove("hidden"):(t.classList.add("hidden"),s.value="",w())}),s&&c&&s.addEventListener("change",function(){const a=s.files[0];if(a&&a.type.startsWith("image/")){const m=new FileReader;m.onload=function(g){const v=g.target.result;c.style.backgroundImage=`url('${v}')`},m.readAsDataURL(a)}else alert("Por favor, selecciona una imagen válida.")})});const d=document.querySelector(".js-preview-cover");d.style.backgroundImage="url('public/images/fantasy.png')";const p=d.querySelector(".js-cover-title"),A=document.querySelectorAll('input[name="theme"]');function w(){const e=document.querySelector('input[name="theme"]:checked').value,t=document.querySelector("#background-choice").value;p.classList.remove("fantasy-title","simulation-title","action-title","horror-title"),e==="Fantasía"?(t!=="custom"&&(d.style.backgroundImage="url('/public/images/fantasy.png')"),p.classList.add("fantasy-title")):e==="Simulación"?(t!=="custom"&&(d.style.backgroundImage="url('/public/images/simulation_6.png')"),p.classList.add("simulation-title")):e==="Acción"?(t!=="custom"&&(d.style.backgroundImage="url('/public/images/action.png')"),p.classList.add("action-title")):e==="Terror"&&(t!=="custom"&&(d.style.backgroundImage="url('/public/images/horror_5.png')"),p.classList.add("horror-title"))}A.forEach(e=>{e.addEventListener("change",w)});const q=document.querySelector(".js-input-tittle"),N=document.querySelector(".js-cover-title");document.addEventListener("DOMContentLoaded",function(){q.addEventListener("input",function(){const e=q.value.trim();N.textContent=e||"Sin título"})});const l=document.querySelector(".js-cover-subtitle"),D=document.querySelectorAll('input[name="theme"]'),k=document.querySelector(".js-input-subtitle");function I(){const e=k.value.trim();if(l.textContent=e,l.classList.remove("fantasy-subtitle","action-subtitle","simulation-subtitle","horror-subtitle"),!e)return;const t=document.querySelector('input[name="theme"]:checked').value;t==="Fantasía"?l.classList.add("fantasy-subtitle"):t==="Simulación"?l.classList.add("simulation-subtitle"):t==="Acción"?l.classList.add("action-subtitle"):t==="Terror"&&l.classList.add("horror-subtitle")}k.addEventListener("input",I);D.forEach(e=>{e.addEventListener("change",I)});const O=document.querySelectorAll('input[name="platform"]');document.querySelector(".js-imgrightbutton");function j(){const e=document.querySelector('input[name="platform"]:checked').value,t=document.getElementById("previewTop"),s=document.getElementById("previewimagePlatform");t.className="preview-top",s.src="images/ps5.svg",s.alt="Imagen de PS5",e==="PS5"?(s.src="images/ps5.svg",s.alt="Imagen de PS5"):e==="PC"?(s.src="images/pc.svg",s.alt="Imagen de PC",t.className="preview-pc"):e==="Xbox"?(s.src="images/xbox.svg",s.alt="Imagen de Xbox",t.className="preview-xbox"):e==="Switch"&&(s.src="images/switch.svg",s.alt="Imagen de Nintendo Switch",t.className="preview-switch")}O.forEach(e=>{e.addEventListener("change",j)});j();const E=document.querySelector(".js-input-age"),r=document.querySelector(".js-box");function V(){const e=parseInt(E.value);r.innerHTML=e,r.classList.remove("preview-age-rojo","preview-age-naranja","preview-age-amarillo","preview-age"),isNaN(e)||e<3||e>18?(r.innerHTML="7",r.classList.add("preview-age")):e>=12&&e<18?r.classList.add("preview-age-naranja"):e===18?r.classList.add("preview-age-rojo"):r.classList.add("preview-age")}E.addEventListener("input",V);const u=document.querySelector(".js-company"),n=document.querySelector(".js-cover-company");function $(){u.value==="ubisoft"?(n.src="images/ubisoft.svg",n.alt="Ubisoft Entertainment S. A."):u.value==="nintendo"?(n.src="images/nintendo.svg",n.alt="Nintendo Company, Ltd."):u.value==="bethesda"?(n.src="images/bethesda.svg",n.alt="Bethesda Softworks LLC"):u.value==="activision"?(n.src="images/activision.svg",n.alt="Activision Publishing, Inc."):u.value==="sega"?(n.src="images/sega.svg",n.alt="Sega Corporation"):(n.src="images/ea.svg",n.alt="Electronic Arts Inc.")}u.addEventListener("change",$);const B=document.querySelector(".js-save-button"),M=document.querySelector(".js-prelink");function U(){var b,y,S;const e=document.querySelector("#title").value.trim()||"Sin título",t=document.querySelector("#subtitle").value.trim()||"Sin subtítulo",s=parseInt(document.querySelector("#age").value,10)||7,c=(b=document.querySelector('input[name="platform"]:checked'))==null?void 0:b.value,a=(y=document.querySelector("#company"))==null?void 0:y.value,m=document.querySelector("#background-choice").value||"preset",g=document.querySelector(".js-preview-cover").style.backgroundImage,v=((S=document.querySelector('input[name="theme"]:checked'))==null?void 0:S.value)||"Fantasía",i={field1:parseInt(m==="custom"?1:2),field2:e,field3:t,field4:v,field5:s,field6:c?`/public/images/${c.toLowerCase()}.svg`:"",field7:a?`/public/images/${a.toLowerCase()}.svg`:""};if(m==="custom"&&g&&g.startsWith('url("data:image')){const o=g.match(/^url\(["']?(.+?)["']?\)$/);i.photo=o?o[1]:""}else switch(v){case"Fantasía":i.photo="/public/images/fantasy.png";break;case"Simulación":i.photo="/public/images/simulation_6.png";break;case"Acción":i.photo="/public/images/action.png";break;case"Terror":i.photo="/public/images/horror_5.png";break;default:i.photo="/public/images/fantasy.png"}console.log("Enviando datos:",i),localStorage.setItem("formData",JSON.stringify(i)),fetch("https://dev.adalab.es/api/info/data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}).then(o=>o.json()).then(o=>{if(o.success){console.log("Respuesta del servidor:",o),localStorage.setItem("apiData",JSON.stringify(o));const L=`result.html?id=${o.infoID}`,P=document.querySelector(".js-url-result");M.classList.remove("hidden"),P.innerHTML=`<a href="${L}" target="_blank">${L}</a>`}else console.error("Error en la respuesta del servidor:",o.error)}).catch(o=>{console.error("Error en la petición fetch:",o)})}B.addEventListener("click",function(e){e.preventDefault(),U()});const f=document.querySelector(".js-toggle-design"),h=document.querySelector(".js-toggle-fill"),C=document.querySelector(".background-choice"),T=document.querySelector(".fill_options");function x(e,t,s,c){const a=!t.classList.contains("hidden");t.classList.toggle("hidden"),e.textContent=a?"➕":"➖",c.classList.add("hidden"),s.textContent="➕"}f.addEventListener("click",()=>{x(f,C,h,T)});h.addEventListener("click",()=>{x(h,T,f,C)});
//# sourceMappingURL=main-37af1bb9.js.map
